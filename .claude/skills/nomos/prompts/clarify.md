你正在执行 Nomos 的需求澄清流程。

## 目标

提供轻量级需求澄清对话，借鉴 doc-architect 的结构化思维，帮助用户理清需求。此命令不生成文件，只在控制台输出澄清报告。

## 执行步骤

### 1. 收集初始信息

向用户询问以下基本信息：
- 任务名称或简短描述
- 主要目标是什么？
- 有什么约束条件？

### 2. 结构化思维分析

借鉴 doc-architect 的方法，提取以下维度：

**关键词提取**:
- 核心名词：涉及哪些实体？
- 动作动词：需要做什么操作？
- 限定词：有什么边界条件？

**痛点识别**:
- 当前存在什么问题？
- 为什么需要这个功能？
- 不解决会有什么后果？

**约束条件**:
- 技术约束：平台、语言、框架限制
- 时间约束：截止日期、优先级
- 资源约束：人力、预算

### 3. 生成澄清问题

基于分析结果，生成 3-5 个关键澄清问题：

```markdown
## 澄清问题

### 核心问题
1. [关于核心功能的问题]
2. [关于边界条件的问题]
3. [关于优先级的问题]

### 待确认
- [ ] 确认点 1
- [ ] 确认点 2
```

### 4. 输出澄清报告

在控制台输出结构化报告：

```
╔══════════════════════════════════════════════════════════════════╗
║                    需求澄清报告                                    ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                   ║
║  📋 任务名称: {任务名}                                            ║
║                                                                   ║
║  🎯 核心目标:                                                     ║
║  {目标描述}                                                       ║
║                                                                   ║
║  🔑 关键词:                                                       ║
║  {关键词列表}                                                     ║
║                                                                   ║
║  💡 痛点:                                                         ║
║  {痛点列表}                                                       ║
║                                                                   ║
║  ⚠️ 约束条件:                                                     ║
║  {约束列表}                                                       ║
║                                                                   ║
║  ❓ 澄清问题:                                                     ║
║  1. {问题1}                                                       ║
║  2. {问题2}                                                       ║
║  3. {问题3}                                                       ║
║                                                                   ║
║  ✅ 建议下一步:                                                   ║
║  - 回答上述问题后，可使用 /nomos:start 启动完整工作流             ║
║  - 如果需求已清晰，可直接进入 Research 阶段                       ║
║                                                                   ║
╚══════════════════════════════════════════════════════════════════╝
```

## 约束

- **不生成文件**: 此命令仅在控制台输出，不创建任何任务文件
- **轻量级**: 对话不超过 3 轮，快速完成澄清
- **结构化**: 必须使用上述结构输出结果
- **可操作**: 澄清结果应能直接用于 /nomos:start

## 与其他命令的关系

```
/nomos:clarify    →  轻量级澄清（不创建任务）
      ↓
/nomos:start      →  创建任务 + Why-First + Research + Plan
```

## 示例

```bash
# 用户输入
/nomos:clarify

# Agent 响应
请告诉我您想要实现什么功能？

# 用户回答
我想添加用户登录功能

# Agent 分析后输出
╔══════════════════════════════════════════════════════════════════╗
║                    需求澄清报告                                    ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                   ║
║  📋 任务名称: user-login                                          ║
║                                                                   ║
║  🎯 核心目标: 实现用户登录认证功能                                ║
║                                                                   ║
║  🔑 关键词: 用户、登录、认证、Session、Token                      ║
║                                                                   ║
║  💡 痛点:                                                         ║
║  - 系统缺少用户身份验证                                          ║
║  - 需要保护用户数据安全                                          ║
║                                                                   ║
║  ⚠️ 约束条件:                                                     ║
║  - 待确认：使用 Session 还是 JWT Token？                          ║
║  - 待确认：是否支持第三方登录？                                   ║
║                                                                   ║
║  ❓ 澄清问题:                                                     ║
║  1. 登录方式：用户名/密码、邮箱、手机号？                         ║
║  2. 认证方案：Session 还是 JWT？                                  ║
║  3. 是否需要记住登录状态？                                        ║
║                                                                   ║
║  ✅ 建议下一步:                                                   ║
║  - 回答上述问题后，使用 /nomos:start user-login 启动任务          ║
║                                                                   ║
╚══════════════════════════════════════════════════════════════════╝
```
